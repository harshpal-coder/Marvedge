{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/m/frontend/src/components/auth/LogoutButton.tsx"],"sourcesContent":["\"use client\";\r\nimport { useUser } from \"@/app/auth/userContext\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function LogoutButton() {\r\n  const { logout, user } = useUser();\r\n  const router = useRouter();\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        logout();\r\n        router.push(\"/\");\r\n      }}\r\n      className=\"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 font-medium\"\r\n    >\r\n      Logout\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,gJAAO;IAChC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC;QACC,SAAS;YACP;YACA,OAAO,IAAI,CAAC;QACd;QACA,WAAU;kBACX;;;;;;AAIL;GAjBwB;;QACG,gJAAO;QACjB,kJAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/m/frontend/src/app/dashboard/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport { useUser } from \"@/app/auth/userContext\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const { user } = useUser();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!user) router.push(\"/auth/login\");\r\n  }, [user, router]);\r\n\r\n  if (!user) return null;\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS,eAAe,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACrC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,gJAAO;IACxB,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC;QACzB;mCAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM,OAAO;IAClB,qBAAO;kBAAG;;AACZ;GAVwB;;QACL,gJAAO;QACT,kJAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/m/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport LogoutButton from \"@/components/auth/LogoutButton\";\r\nimport { useUser } from \"@/app/auth/userContext\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\n\r\ninterface Tour {\r\n  id: string;\r\n  title: string;\r\n  steps: number | { id: string; description: string }[];\r\n  visibility: \"public\" | \"private\";\r\n  createdAt: string;\r\n  views: number;\r\n}\r\n\r\nconst mockTours: Tour[] = [\r\n  {\r\n    id: \"1\",\r\n    title: \"Demo: Onboarding Flow\",\r\n    steps: 5,\r\n    visibility: \"public\",\r\n    createdAt: \"2025-08-20\",\r\n    views: 123,\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"Feature Walkthrough\",\r\n    steps: 3,\r\n    visibility: \"private\",\r\n    createdAt: \"2025-08-22\",\r\n    views: 45,\r\n  },\r\n];\r\n\r\n\r\nexport default function DashboardPage() {\r\n  const [tours, setTours] = useState<Tour[]>([]);\r\n  const { user, token } = useUser();\r\n\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/api/tours', {\r\n      headers: {\r\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n      },\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        // Map _id to id for React key\r\n        if (Array.isArray(data)) {\r\n          setTours(data.map((tour) => ({\r\n            ...tour,\r\n            id: tour.id || tour._id || tour._doc?._id || Math.random().toString(36),\r\n          })));\r\n        } else {\r\n          setTours([]);\r\n        }\r\n      })\r\n      .catch(() => setTours([]));\r\n  }, [token]);\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 dark:from-[#0a0a0a] dark:to-[#171717] p-8\">\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Your Product Tours</h1>\r\n          <div className=\"flex items-center gap-4\">\r\n            {user && <span className=\"text-gray-700 dark:text-gray-200 font-medium\">{user.email}</span>}\r\n            <LogoutButton />\r\n          </div>\r\n        </div>\r\n        <div className=\"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3\">\r\n          {tours.map((tour) => (\r\n            <div key={tour.id} className=\"bg-white dark:bg-[#18181b] rounded-xl shadow-md p-6 border border-gray-100 dark:border-gray-800 flex flex-col gap-2\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <h2 className=\"font-semibold text-lg text-foreground\">{tour.title}</h2>\r\n                <span className={`px-2 py-1 rounded text-xs font-medium ${tour.visibility === \"public\" ? \"bg-blue-100 text-blue-700\" : \"bg-gray-200 text-gray-700\"}`}>\r\n                  {tour.visibility}\r\n                </span>\r\n              </div>\r\n              <div className=\"text-gray-500 text-sm mb-1\">\r\n                {Array.isArray(tour.steps) ? tour.steps.length : tour.steps} steps\r\n              </div>\r\n              <div className=\"text-gray-400 text-xs mb-2\">Created: {tour.createdAt}</div>\r\n              <div className=\"flex items-center gap-2 text-xs text-gray-500\">\r\n                <svg width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M12 5c-7 0-9 7-9 7s2 7 9 7 9-7 9-7-2-7-9-7zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\" stroke=\"#6366F1\" strokeWidth=\"1.5\"/></svg>\r\n                {tour.views} views\r\n              </div>\r\n              <div className=\"flex gap-2 mt-4\">\r\n                <a href={`/dashboard/tour/${tour.id}`} className=\"inline-block px-4 py-2 rounded bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700 transition\">View/Edit</a>\r\n                <button\r\n                  onClick={async () => {\r\n                    if (!window.confirm('Are you sure you want to delete this tour?')) return;\r\n                    try {\r\n                      const res = await fetch(`http://localhost:4000/api/tours/${tour.id}`, {\r\n                        method: 'DELETE',\r\n                        headers: {\r\n                          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n                        },\r\n                      });\r\n                      if (res.ok) {\r\n                        setTours(tours.filter(t => t.id !== tour.id));\r\n                      } else {\r\n                        const data = await res.json();\r\n                        alert(data.error || 'Failed to delete tour');\r\n                      }\r\n                    } catch (err) {\r\n                      alert('Network error');\r\n                    }\r\n                  }}\r\n                  className=\"inline-block px-4 py-2 rounded bg-red-600 text-white text-sm font-semibold hover:bg-red-700 transition\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"mt-10 text-center\">\r\n          <a href=\"/dashboard/tour/new\" className=\"inline-block px-6 py-3 rounded-full bg-purple-600 text-white font-semibold shadow-lg hover:bg-purple-700 transition\">+ Create New Tour</a>\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/m/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}